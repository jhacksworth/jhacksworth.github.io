<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercise 1.6 ‚Äì Plural Phrases</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0 auto;
      padding: 1em;
      max-width: 750px;
      background: #f9f9f9;
      line-height: 1.6;
    }
    h1 {
      font-size: 1.5em;
    }
    h3.ex {
      color: #999;
      margin-top: -1.5em;
    }
    .instructions {
      font-style: italic;
    }
    label {
      display: block;
      margin: 1em 0 0.5em;
    }
    input[type="text"] {
      width: 100%;
      padding: 0.75em;
      font-size: 1em;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }
    button {
      padding: 0.75em 1em;
      font-size: 1em;
      margin-top: 1em;
      border: none;
      border-radius: 5px;
      background-color: #007BFF;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    a.translate-link {
      display: inline-block;
      margin-left: 10px;
      font-size: 0.9em;
    }
    .feedback {
      margin-top: 2em;
      background: #fff;
      padding: 1em;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
    .translation {
      display: block;
      font-size: 0.9em;
      color: #555;
      margin-top: 4px;
    }
    nav a {
      display: inline-block;
      margin-bottom: 1em;
    }
    @media (max-width: 480px) {
      input[type="text"] {
        font-size: 1.1em;
      }
      button {
        width: 100%;
        margin-bottom: 0.5em;
      }
    }
  </style>
</head>
<body>
  <nav>
    <a href="index.html">Home</a>
  </nav>
  <h1>French Plural Forms Quiz</h1>
  <h3 class="ex">Exercise 1.6</h3>
  <p class="instructions">Write the plural form of each of the noun‚Äìadjective phrases.</p>

  <form id="quizForm">
    <ol>
      <li><label>une lampe bleue:
        <input type="text" name="q1">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=une%20lampe%20bleue&op=translate">Translate</a>
      </label></li>
      <li><label>un ami s√©rieux:
        <input type="text" name="q2">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=un%20ami%20s%C3%A9rieux&op=translate">Translate</a>
      </label></li>
      <li><label>le chat gris:
        <input type="text" name="q3">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=le%20chat%20gris&op=translate">Translate</a>
      </label></li>
      <li><label>une Suisse sympathique:
        <input type="text" name="q4">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=une%20Suisse%20sympathique&op=translate">Translate</a>
      </label></li>
      <li><label>une personne costaude:
        <input type="text" name="q5">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=une%20personne%20costaude&op=translate">Translate</a>
      </label></li>
      <li><label>le bel appartement:
        <input type="text" name="q6">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=le%20bel%20appartement&op=translate">Translate</a>
      </label></li>
      <li><label>un jeune gar√ßon:
        <input type="text" name="q7">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=un%20jeune%20gar%C3%A7on&op=translate">Translate</a>
      </label></li>
      <li><label>un examen difficile:
        <input type="text" name="q8">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=un%20examen%20difficile&op=translate">Translate</a>
      </label></li>
      <li><label>le dernier train:
        <input type="text" name="q9">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=le%20dernier%20train&op=translate">Translate</a>
      </label></li>
      <li><label>le quartier ancien:
        <input type="text" name="q10">
        <a class="translate-link" target="_blank" href="https://translate.google.com/?sl=fr&tl=en&text=le%20quartier%20ancien&op=translate">Translate</a>
      </label></li>
    </ol>
    <button type="button" onclick="checkAnswers(true)">‚úÖ Check Filled Answers</button>
    <button type="button" onclick="clearAnswers()">üßπ Clear All</button>
  </form>

  <div class="feedback" id="feedback"></div>

  <script>
    const phrases = [
      "une lampe bleue",
      "un ami s√©rieux",
      "le chat gris",
      "une Suisse sympathique",
      "une personne costaude",
      "le bel appartement",
      "un jeune gar√ßon",
      "un examen difficile",
      "le dernier train",
      "le quartier ancien"
    ];

    const answers = [
      "des lampes bleues",
      "des amis s√©rieux",
      "les chats gris",
      "des Suisses sympathiques",
      "des personnes costaudes",
      "les beaux appartements",
      "des jeunes gar√ßons",
      "des examens difficiles",
      "les derniers trains",
      "les quartiers anciens"
    ];

    const translations = [
      "a blue lamp ‚Üí blue lamps",
      "a serious friend ‚Üí serious friends",
      "the gray cat ‚Üí the gray cats",
      "a nice Swiss woman ‚Üí nice Swiss women",
      "a sturdy person ‚Üí sturdy people",
      "the beautiful apartment ‚Üí the beautiful apartments",
      "a young boy ‚Üí young boys",
      "a difficult exam ‚Üí difficult exams",
      "the last train ‚Üí the last trains",
      "the old neighborhood ‚Üí the old neighborhoods"
    ];

    function normalize(text) {
      return text
        .toLowerCase()
        .normalize('NFD')
        .replace(/≈ì/g, 'oe')
        .replace(/[‚Äò‚Äô¬¥`‚Ä≤ ª]/g, "'")
        .replace(/[‚Äú‚Äù¬´¬ª‚Äû‚Äü]/g, '"')
        .replace(/[\u0300-\u036f]/g, '')
        .trim();
    }

    function checkAnswers(onlyFilled = false) {
      const form = document.forms['quizForm'];
      const feedbackDiv = document.getElementById('feedback');
      feedbackDiv.innerHTML = '';
      let output = '<ol>';
      let answered = false;

      for (let i = 0; i < answers.length; i++) {
        const input = form[`q${i + 1}`];
        const userRaw = input.value.trim();

        if (onlyFilled && userRaw === '') continue;
        answered = true;

        const normUser = normalize(userRaw);
        const normAnswer = normalize(answers[i]);
        const phrase = `${phrases[i]}, ${answers[i]}`;
        const encodedPhrase = encodeURIComponent(phrase);
        const translateURL = `https://translate.google.com/?sl=fr&tl=en&text=${encodedPhrase}&op=translate`;

        if (normUser === normAnswer) {
          output += `<li><span class="correct">${phrase} ‚úîÔ∏è</span>
                     <a href="${translateURL}" target="_blank">Translate</a>
                     <span class="translation">English: ${translations[i]}</span></li>`;
        } else {
          output += `<li><span class="incorrect">Your answer: "${userRaw}" ‚ùå ‚Äî Correct: ${phrase}</span>
                     <a href="${translateURL}" target="_blank">Translate</a>
                     <span class="translation">English: ${translations[i]}</span></li>`;
        }
      }

      output += '</ol>';
      feedbackDiv.innerHTML = answered ? output : '<p>Please fill in at least one answer.</p>';
    }

    function clearAnswers() {
      const form = document.forms['quizForm'];
      for (let i = 0; i < answers.length; i++) {
        form[`q${i + 1}`].value = '';
      }
      document.getElementById('feedback').innerHTML = '';
    }
  </script>
</body>
</html>
